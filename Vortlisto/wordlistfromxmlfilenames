import os

def processfile(filename):
    def accentchar(char):
        if char == 'c':
            return 'ĉ'
        elif char == 'j':
            return 'ĵ'
        elif char == 'g':
            return 'ĝ'
        elif char == 'u':
            return 'ŭ'
        elif char == 'h':
            return 'ĥ'
        else:
            return char

    while 'x' in filename:
        i = filename.index('x')
        filename = filename[:i - 1] + accentchar(filename[i - 1]) + filename[i + 1:]
    filename = ''.join(c for c in filename if not c.isdigit())
    return filename


def main():
    outfile = open("./vortlisto.dict","w")
    dir = os.fsencode("./revo")
    for file in os.listdir(dir):
        filename = os.fsdecode(file)
        filename = processfile(filename[:-4])
        outfile.write(filename + ";1\n")
    outfile.close()


main()
